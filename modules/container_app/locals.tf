locals {
  container_app_env_name1               = "${var.prefix}-container-app-env-1"
  container_app_env_name2               = "${var.prefix}-container-app-env-2"
  container_app_logs_destination        = "log-analytics"
  container_app_name1                   = "${var.prefix}-container-app-1"
  container_app_name2                   = "${var.prefix}-container-app-2"
  container_revision_mode               = "Single"
  container_name1                       = "flask1"
  container_name2                       = "flask2"
  container_cpu                         = "0.25"
  container_memory                      = "0.5Gi"
  min_replicas                          = 1
  max_replicas                          = 3
  ingress_allow_insecure_connections    = true
  container_port                        = 8080
  isexternal_enabled                    = true
  transport_protocol                    = "auto"
  traffic_percentage                    = 100
  public_network_access_disabled        = "Disabled"
  traffic_latest_revision               = true
  workload_name                         = "Consumption"
  workload_type                         = "Consumption"
  count                                 = 0
  ContainerEnv1RG_name                  = "${var.prefix}-container-env-1-rg"
  ContainerEnv2RG_name                  = "${var.prefix}-container-env-2-rg"
  container_registry_password_name1     = "${var.prefix}-container-registry-password-1"
  container_registry_password_name2     = "${var.prefix}-container-registry-password-2"
  is_internal_load_balancer_enabled     = true
  private_container_app_name1-autoscale = "${var.prefix}-private-container-app-1-autoscale"
  private_container_app_name2-autoscale = "${var.prefix}-private-container-app-2-autoscale"
  autoscale_profile_1_name              = "cpu-scale-profile1"
  autoscaling_metric_name               = "cpu-percentage"
  monitoring_time_grain                 = "PT1M"
  monitoring_statistic                  = "Average"
  monitoring_time_window                = "PT5M"
  monitoring_time_aggregation           = "Average"
  autoscaling_operator_greater          = "GreaterThanOrEqual"
  autoscaling_operator_less             = "LessThanOrEqual"
  autoscaling_threshold_high            = 50
  autoscaling_threshold_low             = 25
  scale_up_direction                    = "Increase"
  scale_up_type                         = "ChangeCount"
  scale_up_value                        = 1
  scale_up_cooldown                     = "PT1M"
  scale_down_direction                  = "Decrease"
  scale_down_type                       = "ChangeCount"
  scale_down_value                      = 1
  scale_down_cooldown                   = "PT5M"
  autoscale_profile_2_name              = "cpu-scale-profile2"
  http_scale_rule_name                  = "http-scale-rule"
  concurrent_requests_autobalancer     = 5000000
}